<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>HTML 5 Web Storage</title>

<link href="reset.css" type="text/css" rel="stylesheet" />

<link href="webStorage_Style.css" type="text/css" rel="stylesheet" />

<script>
window.addEventListener("load",init);

function init(){
	if(typeof(Storage)!=="undefined"){
	
	display();
	
	var button=document.getElementById("button");
	button.addEventListener("click",saveInfo);
	}
	
	else{
	alert("Your browser version is too old, we don't support it!")//old bowser	
	}
}

function saveInfo(){
	var city=document.getElementById("city").value;
	var comments=document.getElementById("comments").value;
    var type=document.getElementsByClassName("dounutType");
    var typeChoice;
    for(i=0;i<type.length;i++){
        if(type[i].checked){
            typeChoice=type[i].value;
            break;
        }
    }
    var quantity=document.getElementById("quantity").value;

	localStorage.setItem("cityName",city);
	localStorage.setItem("userComments",comments);
    localStorage.setItem("typeChoice",typeChoice);
    localStorage.setItem("quantity",quantity);
    
	
	
	display();
	
}

function display(){
	var rightBox=document.getElementById("useroutput");
	var theCity=localStorage.getItem("cityName");
	var theComments=localStorage.getItem("userComments");
    var theTypeChoice=localStorage.getItem("typeChoice");
    var theQuantity=localStorage.getItem("quantity");
	
	if(theComments==undefined){
		document.getElementById("useroutput").innerHTML="";
	}
	else{ document.getElementById("useroutput").innerHTML="OUTPUT  <hr /><br /><br /><img id=\"imageOutput\" src=\"donut_blue.png\" alt=\"Donut\"></imag><br /><br />The City: "+theCity+"<br /><br />  Donut Items (Yum!): "+theComments+"<br /><br />  Donut Type: "+theTypeChoice+"<br /><br />  Quantity: "+theQuantity;
	}
	
}

</script>



</head>

<body>

<div id="main">
	<section id="userinput">
    Choose Your Donut <br>
	<hr />
    <br /><br />
    <form id="form">
    <img id="imageInput" src="donut.png" alt="Donut"></imag>
    <div>
        City: <br />
        <input type="input" id="city" size="20">
    </div>
    <br />
    <div>
        donut items (Yum!):<br /> 
        <textarea id="comments" rows="10"></textarea>
    </div>
    <br />
    <div>
        donut type & name:<br />   
        <input type="radio" class="dounutType" name="dounutType" value="Yeast Doughnuts" checked> Yeast Doughnuts<br>
        <input type="radio" class="dounutType" name="dounutType" value="Cake Doughnut"> Cake Doughnuts<br>
        <input type="radio" class="dounutType" name="dounutType" value="Cruller"> Cruller<br>
        <input type="radio" class="dounutType" name="dounutType" value="Jelly Doughnuts"> Jelly Doughnuts
    </div>
    <br />
    <div>
        How many do you want?<br />        
        <input id="quantity" type="number" name="quantity" min="1">
    </div>
    <br />
     <div><input type="button" id="button" value="Save"></div>
    
    </form>
    </section>
    
    
    <section id="useroutput">
 OUTPUT  
 	<hr />
    <br /><br />
    </section>

</div>



</body>
</html>
